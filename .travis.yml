os:
  - linux
  - osx
  - |
  set -e
  if [ "$TRAVIS_OS_NAME" == "osx" ]; then
    rvm get stable
    which python || travis_retry brew install python && brew link --overwrite python
    which python
    python --version
  fi
dist: trusty
sudo: required
language: python
python:
  - "2.7"
  - "3.6"

install:
  - ./.travis/install.sh

script:
  - ./.travis/build.sh

cache:
  - directories:
    - $HOME/.build_cache
    - $HOME/.ccache

env:
  global:
    - PB_VERSION=2.6.1
